# Starship configuration inspired by Pure prompt
# Minimal, clean, and fast

# Don't print a new line at the start of the prompt
add_newline = false

# Format: two-line prompt like Pure
format = """
$os\
$username\
$hostname\
$directory\
$custom\
$git_branch\
$git_status\
$git_state\
$cmd_duration
$character"""

# OS symbols using Nerd Fonts
[os]
disabled = false
style = "bold white"
format = "[$symbol]($style) "

[os.symbols]
AlmaLinux = "ïŒ "
Arch = "ïŒƒ "
CachyOS = "ïŒƒ "
CentOS = "ïŒ„ "
Debian = "ïŒ† "
Fedora = "ïŒŠ "
FreeBSD = "ïŒŒ "
Kali = "ïŒ§ "
Linux = "ïŒš "
Macos = "ïŒ‚ "
NixOS = "ïŒ“ "
Nobara = "ï€ "
OpenBSD = "ó°ˆº "
Pop = "ïŒª "
Raspbian = "ïŒ• "
Redhat = "ïŒ– "
RedHatEnterprise = "ïŒ– "
RockyLinux = "ïŒ« "
Ubuntu = "ïŒ› "
Windows = "ó°² "

[character]
success_symbol = "[â¯](bold #50fa7b)"
error_symbol = "[â¯](bold #ff5555)"
vimcmd_symbol = "[â®](bold magenta)"

[username]
style_user = "bold #ffb86c"
style_root = "bold red"
format = "at [$user]($style) "
disabled = false
show_always = true

[hostname]
ssh_only = true
format = "[@$hostname]($style) "
disabled = false

[directory]
truncation_length = 1
truncate_to_repo = false
format = "in [$path]($style) "

[git_branch]
symbol = "ï˜ "
format = "[$symbol$branch(:$remote_branch)]($style) "

[git_status]
format = '([$all_status$ahead_behind]($style) )'
conflicted = "="
ahead = "â‡¡${count}"
behind = "â‡£${count}"
diverged = "â‡¡${ahead_count}â‡£${behind_count}"
untracked = "?"
stashed = '\$'
modified = "*"
staged = "!"
renamed = "Â»"
deleted = "âœ˜"

[git_state]
format = '[\($state( $progress_current of $progress_total)\)]($style) '

[cmd_duration]
min_time = 5000
format = "[$duration]($style) "

# Custom module for clickable git repo links
[custom.git_remote]
description = "Display git remote as clickable link"
command = "~/.config/starship/git-remote-link.sh"
when = "git rev-parse --is-inside-work-tree 2>/dev/null"
format = "at $output "
shell = ["bash", "--noprofile", "--norc"]

# Tool-specific modules (shown only when detected)
[python]
symbol = "îˆµ "
style = "yellow"
format = '[$symbol$version(\($virtualenv\))]($style) '
detect_extensions = ["py"]
detect_files = ["pyproject.toml", "requirements.txt", ".python-version", "Pipfile"]

[nodejs]
symbol = "îœ˜ "
style = "green"
format = '[$symbol$version]($style) '
detect_files = ["package.json", "bun.lockb", ".node-version"]

[bun]
symbol = "î¯ "
style = "bold red"
format = '[$symbol$version]($style) '

[terraform]
symbol = "ğŸ’  "
style = "bold purple"
format = '[$symbol$workspace]($style) '
detect_extensions = ["tf", "tfvars"]
detect_files = ["terraform.tfvars"]

[docker_context]
disabled = false
format = 'via [ğŸ‹ $context](blue bold)'

# Additional useful modules
[status]
disabled = false
symbol = ""
format = '[\[$status\]]($style) '
style = "bold red"

# Disable modules we don't need for a minimal prompt

[line_break]
disabled = true